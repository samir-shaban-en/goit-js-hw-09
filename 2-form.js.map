{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const storageKey = 'feedback-form-state';\nconst formEl = document.querySelector('.feedback-form');\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nfunction collectValuesToStorageHandler(e) {\n  const name = e.target.name;\n  const value = e.target.value;\n\n  formData[name] = value.trim();\n\n  localStorage.setItem(storageKey, JSON.stringify(formData));\n}\n\nformEl.addEventListener('input', collectValuesToStorageHandler);\n\nfunction addStorageValueToForm(storageValue) {\n  if (!storageValue) {\n    return;\n  }\n\n  const { email, message } = formEl.elements;\n\n  const { email: parsedEmail, message: parsedMessage } =\n    JSON.parse(storageValue);\n\n  email.value = parsedEmail;\n  message.value = parsedMessage;\n\n  formData.email = parsedEmail;\n  formData.message = parsedMessage;\n}\n\naddStorageValueToForm(localStorage.getItem(storageKey));\n\nfunction formSubmitHandler(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n\n  if (email.value.trim() === '' || message.value.trim() === '') {\n    console.log('«Fill please all fields».');\n\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(storageKey);\n  formData.email = '';\n  formData.message = '';\n  e.currentTarget.reset();\n}\n\nformEl.addEventListener('submit', formSubmitHandler);\n"],"names":["storageKey","formEl","formData","collectValuesToStorageHandler","name","value","addStorageValueToForm","storageValue","email","message","parsedEmail","parsedMessage","formSubmitHandler"],"mappings":"wFAAA,MAAMA,EAAa,sBACbC,EAAS,SAAS,cAAc,gBAAgB,EAEhDC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAA8B,EAAG,CACxC,MAAMC,EAAO,EAAE,OAAO,KAChBC,EAAQ,EAAE,OAAO,MAEvBH,EAASE,CAAI,EAAIC,EAAM,KAAI,EAE3B,aAAa,QAAQL,EAAY,KAAK,UAAUE,CAAQ,CAAC,CAC3D,CAEAD,EAAO,iBAAiB,QAASE,CAA6B,EAE9D,SAASG,EAAsBC,EAAc,CAC3C,GAAI,CAACA,EACH,OAGF,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYR,EAAO,SAE5B,CAAE,MAAOS,EAAa,QAASC,CAAe,EAClD,KAAK,MAAMJ,CAAY,EAEzBC,EAAM,MAAQE,EACdD,EAAQ,MAAQE,EAEhBT,EAAS,MAAQQ,EACjBR,EAAS,QAAUS,CACrB,CAEAL,EAAsB,aAAa,QAAQN,CAAU,CAAC,EAEtD,SAASY,EAAkB,EAAG,CAC5B,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAAJ,EAAO,QAAAC,CAAO,EAAK,EAAE,cAAc,SAE3C,GAAID,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,GAAI,CAC5D,QAAQ,IAAI,2BAA2B,EAEvC,MACD,CAED,QAAQ,IAAIP,CAAQ,EAEpB,aAAa,WAAWF,CAAU,EAClCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,EAAE,cAAc,OAClB,CAEAD,EAAO,iBAAiB,SAAUW,CAAiB"}