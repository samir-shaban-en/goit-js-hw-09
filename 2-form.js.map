{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const storageKey = 'feedback-form-state';\nconst formEl = document.querySelector('.feedback-form');\nconst formData = {\n  email: '',\n  message: '',\n};\n\nfunction collectValuesToStorageHandler(e) {\n  const name = e.target.name;\n  const value = e.target.value;\n\n  formData[name] = value.trim();\n\n  localStorage.setItem(storageKey, JSON.stringify(formData));\n}\n\nformEl.addEventListener('input', collectValuesToStorageHandler);\n\nconst addStorageValueToForm = storageValue => {\n  if (!storageValue) {\n    return;\n  }\n  const { email, message } = formEl.elements;\n  const { email: parsedEmail, message: parsedMessage } =\n    JSON.parse(storageValue);\n\n  email.value = parsedEmail;\n  message.value = parsedMessage;\n\n  formData.email = parsedEmail;\n  formData.message = parsedMessage;\n};\n\naddStorageValueToForm(localStorage.getItem(storageKey));\n\nfunction formSubmitHandler(e) {\n  e.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    console.log('«Fill please all fields».');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem(storageKey);\n  formData.email = '';\n  formData.message = '';\n  e.currentTarget.reset();\n}\n\nformEl.addEventListener('submit', formSubmitHandler);\n"],"names":["storageKey","formEl","formData","collectValuesToStorageHandler","e","name","value","addStorageValueToForm","storageValue","email","message","parsedEmail","parsedMessage","formSubmitHandler"],"mappings":"wFAAA,MAAMA,EAAa,sBACbC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAA8BC,EAAG,CACxC,MAAMC,EAAOD,EAAE,OAAO,KAChBE,EAAQF,EAAE,OAAO,MAEvBF,EAASG,CAAI,EAAIC,EAAM,KAAI,EAE3B,aAAa,QAAQN,EAAY,KAAK,UAAUE,CAAQ,CAAC,CAC3D,CAEAD,EAAO,iBAAiB,QAASE,CAA6B,EAE9D,MAAMI,EAAwBC,GAAgB,CAC5C,GAAI,CAACA,EACH,OAEF,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYT,EAAO,SAC5B,CAAE,MAAOU,EAAa,QAASC,CAAe,EAClD,KAAK,MAAMJ,CAAY,EAEzBC,EAAM,MAAQE,EACdD,EAAQ,MAAQE,EAEhBV,EAAS,MAAQS,EACjBT,EAAS,QAAUU,CACrB,EAEAL,EAAsB,aAAa,QAAQP,CAAU,CAAC,EAEtD,SAASa,EAAkBT,EAAG,CAG5B,GAFAA,EAAE,eAAc,EAEZF,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,QAAQ,IAAI,2BAA2B,EACvC,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWF,CAAU,EAClCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBE,EAAE,cAAc,OAClB,CAEAH,EAAO,iBAAiB,SAAUY,CAAiB"}